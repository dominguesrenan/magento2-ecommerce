<?php
/** @var \Bistwobis\ListaSugestoes\Block\Widget\ListaSugestoes $block */
$lista = $block->getLista();
$products = $block->getProducts();
?>

<div class="block widget lista-sugestoes">
    <?php if ($title = $block->getData('title')): ?>
        <div class="block-title">
            <strong><?= $block->escapeHtml($title) ?></strong>
        </div>
    <?php endif; ?>

    <?php if (!empty($products)): ?>
        <div class="block-content">
            <div class="products-grid">
                <?php foreach ($products as $product): ?>
                    <div class="product-item">
                        <div class="product-item-info">
                            <a href="<?= $block->escapeUrl($product->getProductUrl()) ?>" 
                               class="product-item-photo">
                                <?= $block->getImage($product, 'category_page_grid')->toHtml() ?>
                            </a>
                            <div class="product-item-details">
                                <strong class="product-item-name">
                                    <a title="<?= $block->escapeHtml($product->getName()) ?>"
                                       href="<?= $block->escapeUrl($product->getProductUrl()) ?>"
                                       class="product-item-link">
                                        <?= $block->escapeHtml($product->getName()) ?>
                                    </a>
                                </strong>
                                <?= $block->getProductPriceHtml($product) ?>
                                <div class="product-item-actions">
                                    <?= $block->getAddToCartHtml($product) ?>
                                </div>
                            </div>
                        </div>
                    </div>
                <?php endforeach; ?>
            </div>
        </div>
    <?php else: ?>
        <div class="message info empty">
            <div><?= $block->escapeHtml(__('Nenhum produto encontrado nesta lista.')) ?></div>
        </div>
    <?php endif; ?>
</div> 